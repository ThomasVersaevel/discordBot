const { SlashCommandBuilder } = require('@discordjs/builders');
const { MessageAttachment, MessageEmbed } = require('discord.js');
const shortcuts = require('../api-shortcuts.json');
const fetch = require('node-fetch');
const { apiKey } = require('../config.json');
const { convertLolName } = require('../globals.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('heyarne')
        .setDescription('Zou jij haar doen?'),
    async execute(interaction) {

        embedList = [];
        const plaatjes = fs.readdirSync(`./assets/tftset8/`).filter(file => file.endsWith('.jpg'));;

        await interaction.reply({ // multiple embeds all with a picture for the king
            embeds: embedList,
            files: plaatjes
        });
        setTimeout(spam(i), 1200); // 1.2 seconds
        
        function spam(i) {
            interaction.update({
                embeds: embedList,
                files: [{ attachment: kingIcon, name: 'icon' + i + '.jpg' }]
            });
        }
    }
}